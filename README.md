# UpNote Python Client

[![PyPI version](https://badge.fury.io/py/upnote-python-client.svg)](https://badge.fury.io/py/upnote-python-client)
[![Python versions](https://img.shields.io/pypi/pyversions/upnote-python-client.svg)](https://pypi.org/project/upnote-python-client/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

A powerful Python client for UpNote that leverages URL schemes (x-callback-url) to programmatically create and manage notes.

## Features

- Create notes with titles, content, tags, and notebooks
- Open existing notes
- Search notes with advanced filtering capabilities
- Create and manage notebooks and sub-notebooks
- Launch the UpNote application
- Markdown helper functions (checklists, tables, and more)

## Installation

### From PyPI (Recommended)

```bash
pip install upnote-python-client
```

### From Source

```bash
git clone https://github.com/jinwoo-j/upnote_client.git
cd upnote-python-client
pip install -e .
```

## Quick Start

### Basic Setup

```python
from upnote_python_client import UpNoteClient

# Initialize client (no API key required)
client = UpNoteClient()
```

### Creating Notes

```python
# Basic note creation
client.create_note(
    text="Note content",
    title="Note title"
)

# Advanced note with multiple parameters
client.create_note(
    text="Markdown **supported** content",
    title="Advanced Note",
    notebook="Projects",
    tags=["important", "work"],
    pinned=True,
    color="blue",
    priority="high"
)
```

### Using Helper Functions

```python
from upnote_python_client import UpNoteHelper

# Create checklist
checklist = UpNoteHelper.create_checklist([
    "Task 1",
    "Task 2", 
    "Task 3"
])

# Create table
table = UpNoteHelper.create_table(
    headers=["Name", "Age", "Role"],
    rows=[
        ["John Doe", "30", "Developer"],
        ["Jane Smith", "25", "Designer"]
    ]
)

# Add timestamp
content = UpNoteHelper.format_markdown_content(
    "Original content",
    add_timestamp=True
)

# Create complete note
client.create_note(
    text=f"# Task List

{checklist}

# Team Info

{table}",
    title="Project Status"
)
```

## Core Functionality

### UpNoteClient

#### Note Operations
- `create_note()`: Create new notes with full parameter support (markdown, colors, pinning, favorites, reminders, etc.)
- `create_markdown_note()`: Create notes optimized for markdown content
- `open_note()`: Open existing notes (with edit mode support)
- `quick_note()`: Add quick notes or append content

#### Notebook Operations
- `create_notebook()`: Create notebooks (with color and sub-notebook support)
- `open_notebook()`: Open existing notebooks

#### Search and Utilities
- `search_notes()`: Advanced search with notebook and tag filtering
- `import_note()`: Import notes from files
- `export_note()`: Export notes to various formats
- `open_upnote()`: Launch the UpNote application

### UpNoteHelper

- `format_markdown_content()`: Format markdown content with timestamps and separators
- `create_checklist()`: Create markdown checklists
- `create_table()`: Create markdown tables

## URL Scheme Examples

Example URLs generated by the client:
```
upnote://x-callback-url/note/new?text=Hello%20UpNote!&title=Test%20Note
upnote://x-callback-url/note/new?text=Content&title=Title&notebook=Project&tags=tag1,tag2
upnote://x-callback-url/search?query=keyword
```

## Supported Platforms

- **macOS**: Uses `open` command
- **Windows**: Uses `start` command
- **Linux**: Uses `xdg-open` command

## Examples

Comprehensive usage examples are available in the `examples/` directory:

- `examples/example_usage.py`: Basic usage patterns
- `examples/advanced_example.py`: Advanced features and techniques
- `examples/comprehensive_example.py`: Complete feature demonstration

## Testing

Run the full test suite to verify functionality:

```bash
# Run all tests
python tests/test_all_features.py

# Test markdown features
python tests/test_markdown.py

# Final validation
python tests/final_test_summary.py
```

## Project Structure

```
upnote_client/
‚îú‚îÄ‚îÄ upnote_client.py          # Main client module
‚îú‚îÄ‚îÄ requirements.txt          # Dependencies (none)
‚îú‚îÄ‚îÄ setup.py                 # Installation script
‚îú‚îÄ‚îÄ README.md                # Project documentation
‚îú‚îÄ‚îÄ LICENSE                  # MIT License
‚îú‚îÄ‚îÄ CHANGELOG.md             # Change log
‚îú‚îÄ‚îÄ examples/                # Usage examples
‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îú‚îÄ‚îÄ example_usage.py
‚îÇ   ‚îú‚îÄ‚îÄ advanced_example.py
‚îÇ   ‚îî‚îÄ‚îÄ comprehensive_example.py
‚îú‚îÄ‚îÄ tests/                   # Test files
‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îú‚îÄ‚îÄ test_all_features.py
‚îÇ   ‚îú‚îÄ‚îÄ test_markdown.py
‚îÇ   ‚îî‚îÄ‚îÄ final_test_summary.py
‚îî‚îÄ‚îÄ docs/                    # Documentation
    ‚îî‚îÄ‚îÄ API_REFERENCE.md
```

## Important Notes

- The UpNote application must be installed on your system
- Notes are created when the UpNote app opens (URL scheme method)
- Callback URLs can be configured for success/failure handling

### Advanced Note Creation
```python
# Important note with color, pinning, and favorites
client.create_note(
    title="Urgent Notice",
    text="# Important Content

Requires urgent confirmation.",
    markdown=True,
    pinned=True,
    favorite=True,
    color="red",
    reminder="2024-01-20T14:00:00",
    tags=["urgent", "notice"]
)

# Markdown-optimized note
client.create_markdown_note(
    title="Project Plan",
    content="# Plan

- [ ] Task 1
- [ ] Task 2",
    notebook="Project",
    color="blue",
    add_timestamp=True
)
```

### Advanced Search
```python
# Search with tag filtering in a specific notebook
client.search_notes(
    query="meeting",
    notebook="Work",
    tags=["important", "in-progress"],
    limit=10
)
```

### Notebook Management
```python
# Create notebook with color
client.create_notebook("Data Analysis", color="purple")

# Create sub-notebook
client.create_notebook("Monthly Report", parent="Data Analysis")

# Open notebook
client.open_notebook("Data Analysis")
```

### Quick Actions
```python
# Add content to existing note
client.quick_note("Add new idea", append=True)

# Open note in edit mode
client.open_note(title="Meeting Notes", edit=True)
```

### File Operations
```python
# Import markdown file
client.import_note("document.md", notebook="Documents", format_type="markdown")

# Export note to PDF
client.export_note(title="Report", format_type="pdf", destination="~/Documents/")
```

## Extended Parameter Support

### Note Properties
- `pinned`: Pin note to keep it visible
- `favorite`: Add note to favorites
- `starred`: Mark note with star
- `priority`: Set priority level (high, medium, low, urgent)
- `category`: Organize notes by category
- `readonly`: Set read-only mode

### Time Management
- `due_date`: Set due date for tasks
- `created_date`: Specify creation date
- `modified_date`: Specify modification date
- `reminder`: Schedule reminder notifications

### Security and Sharing
- `encrypted`: Enable encryption
- `password`: Set note password
- `shared`: Share note with others
- `public`: Make note publicly accessible

### Metadata
- `author`: Author information
- `source`: Source reference
- `url`: Related URL links
- `location`: Location information
- `attachments`: File attachments

### Supported Colors
- `red`: For urgent or important notes
- `blue`: For informational or planning notes
- `green`: For completed or successful items
- `yellow`: For caution or pending items
- `purple`: For creative or idea notes
- `gray`: For archived or reference material
- `orange`: For warnings or alerts
- `pink`: For personal or hobby-related notes

## Reminder Time Formats
- **ISO 8601**: `"2024-01-20T14:00:00"`
- **Natural language**: `"tomorrow 2pm"`, `"next friday"`
- **Relative time**: `"in 1 hour"`, `"in 30 minutes"`

# Specialized Note Creation Methods

### Task Notes
```python
client.create_task_note(
    title="Weekly Work Plan",
    tasks=["Task 1", "Task 2", "Task 3"],
    due_date="2024-01-30",
    priority="high",
    reminder="2024-01-25T09:00:00"
)
```

### Meeting Notes
```python
client.create_meeting_note(
    title="Team Meeting",
    date="2024-01-25 14:00",
    attendees=["Team Lead Kim", "Developer Park", "Designer Lee"],
    agenda=["Project Progress", "Next Sprint Plan"],
    location="Conference Room A"
)
```

### Project Notes
```python
client.create_project_note(
    project_name="Website Redesign",
    description="UI/UX improvement of existing website",
    milestones=["Planning", "Design", "Development", "Testing", "Deployment"],
    team_members=["Planner", "Designer", "Developer"],
    due_date="2024-06-30"
)
```

### Daily Notes
```python
client.create_daily_note(
    mood="üòä Good",
    weather="‚òÄÔ∏è Sunny",
    goals=["Exercise", "Reading", "Project Progress"],
    reflections="Today was a productive day."
)
```

## Advanced Usage Examples

### Encrypted Confidential Note
```python
client.create_note(
    title="üîí Server Information",
    text="Important server access information...",
    encrypted=True,
    password="secure123!",
    color="red",
    shared=False,
    readonly=True
)
```

### Travel Note with Location Information
```python
client.create_note(
    title="‚úàÔ∏è Jeju Island Trip",
    text="Travel plans and schedule...",
    location="Jeju Special Self-Governing Province",
    attachments=["flight_ticket.pdf", "hotel_reservation.pdf"],
    tags=["travel", "Jeju Island"],
    color="green"
)
```

### High Priority Work Note
```python
client.create_note(
    title="üö® Urgent Work",
    text="Work that needs immediate attention...",
    priority="urgent",
    pinned=True,
    favorite=True,
    color="red",
    reminder="2024-01-20T09:00:00",
    due_date="2024-01-20T18:00:00"
)
```
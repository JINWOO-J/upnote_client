# UpNote Python Client

[![PyPI version](https://badge.fury.io/py/upnote-python-client.svg)](https://badge.fury.io/py/upnote-python-client)
[![Python versions](https://img.shields.io/pypi/pyversions/upnote-python-client.svg)](https://pypi.org/project/upnote-python-client/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

A powerful Python client for UpNote that leverages URL schemes (x-callback-url) to programmatically create and manage notes. Now includes a full MCP (Model Context Protocol) server for seamless integration with AI assistants and coding tools.

## Features

- Create notes with titles, content, tags, and notebooks
- Open existing notes
- Search notes with advanced filtering capabilities
- Create and manage notebooks and sub-notebooks
- Launch the UpNote application
- Markdown helper functions (checklists, tables, and more)
- **NEW: MCP Server** for AI assistant integration (Claude, Cursor, etc.)
- **NEW: Debug wrapper** for MCP troubleshooting

## Installation

### From PyPI (Recommended)

```bash
pip install upnote-python-client
```

### From Source

```bash
git clone https://github.com/jinwoo-j/upnote_client.git
cd upnote-python-client
pip install -e .
```

## Quick Start

### Basic Setup

```python
from upnote_python_client import UpNoteClient

# Initialize client (no API key required)
client = UpNoteClient()
```

### Creating Notes

```python
# Basic note creation
client.create_note(
    text="Note content",
    title="Note title"
)

# Advanced note with multiple parameters
client.create_note(
    text="Markdown **supported** content",
    title="Advanced Note",
    notebook="Projects",
    tags=["important", "work"],
    pinned=True,
    color="blue",
    priority="high"
)
```

### Using Helper Functions

```python
from upnote_python_client import UpNoteHelper

# Create checklist
checklist = UpNoteHelper.create_checklist([
    "Task 1",
    "Task 2", 
    "Task 3"
])

# Create table
table = UpNoteHelper.create_table(
    headers=["Name", "Age", "Role"],
    rows=[
        ["John Doe", "30", "Developer"],
        ["Jane Smith", "25", "Designer"]
    ]
)

# Add timestamp
content = UpNoteHelper.format_markdown_content(
    "Original content",
    add_timestamp=True
)

# Create complete note
client.create_note(
    text=f"# Task List

{checklist}

# Team Info

{table}",
    title="Project Status"
)
```

## Core Functionality

### UpNoteClient

#### Note Operations
- `create_note()`: Create new notes with full parameter support (markdown, colors, pinning, favorites, reminders, etc.)
- `create_markdown_note()`: Create notes optimized for markdown content
- `open_note()`: Open existing notes (with edit mode support)
- `quick_note()`: Add quick notes or append content

#### Notebook Operations
- `create_notebook()`: Create notebooks (with color and sub-notebook support)
- `open_notebook()`: Open existing notebooks

#### Search and Utilities
- `search_notes()`: Advanced search with notebook and tag filtering
- `import_note()`: Import notes from files
- `export_note()`: Export notes to various formats
- `open_upnote()`: Launch the UpNote application

### UpNoteHelper

- `format_markdown_content()`: Format markdown content with timestamps and separators
- `create_checklist()`: Create markdown checklists
- `create_table()`: Create markdown tables

## URL Scheme Examples

Example URLs generated by the client:
```
upnote://x-callback-url/note/new?text=Hello%20UpNote!&title=Test%20Note
upnote://x-callback-url/note/new?text=Content&title=Title&notebook=Project&tags=tag1,tag2
upnote://x-callback-url/search?query=keyword
```

## Supported Platforms

- **macOS**: Uses `open` command
- **Windows**: Uses `start` command
- **Linux**: Uses `xdg-open` command

## Examples

Comprehensive usage examples are available in the `examples/` directory:

- `examples/example_usage.py`: Basic usage patterns
- `examples/advanced_example.py`: Advanced features and techniques
- `examples/comprehensive_example.py`: Complete feature demonstration

## Testing

Run the full test suite to verify functionality:

```bash
# Run all tests
python tests/test_all_features.py

# Test markdown features
python tests/test_markdown.py

# Final validation
python tests/final_test_summary.py
```

## Project Structure

```
upnote_client/
‚îú‚îÄ‚îÄ upnote_client.py          # Main client module
‚îú‚îÄ‚îÄ upnote_mcp_server.py      # MCP server implementation
‚îú‚îÄ‚îÄ upnote_mcp_debugger.py    # MCP debug wrapper
‚îú‚îÄ‚îÄ requirements.txt          # Dependencies (none)
‚îú‚îÄ‚îÄ setup.py                 # Installation script
‚îú‚îÄ‚îÄ README.md                # Project documentation
‚îú‚îÄ‚îÄ LICENSE                  # MIT License
‚îú‚îÄ‚îÄ CHANGELOG.md             # Change log
‚îú‚îÄ‚îÄ examples/                # Usage examples
‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îú‚îÄ‚îÄ example_usage.py
‚îÇ   ‚îú‚îÄ‚îÄ advanced_example.py
‚îÇ   ‚îî‚îÄ‚îÄ comprehensive_example.py
‚îú‚îÄ‚îÄ tests/                   # Test files
‚îÇ   ‚îú‚îÄ‚îÄ README.md
‚îÇ   ‚îú‚îÄ‚îÄ test_all_features.py
‚îÇ   ‚îú‚îÄ‚îÄ test_markdown.py
‚îÇ   ‚îî‚îÄ‚îÄ final_test_summary.py
‚îú‚îÄ‚îÄ logs/                    # MCP debug logs
‚îÇ   ‚îú‚îÄ‚îÄ mcp_debug_*.log
‚îÇ   ‚îú‚îÄ‚îÄ proxy_client_to_server.bin
‚îÇ   ‚îî‚îÄ‚îÄ proxy_server_to_client.bin
‚îî‚îÄ‚îÄ docs/                    # Documentation
    ‚îî‚îÄ‚îÄ API_REFERENCE.md
```

## Important Notes

- The UpNote application must be installed on your system
- Notes are created when the UpNote app opens (URL scheme method)
- Callback URLs can be configured for success/failure handling

### Advanced Note Creation
```python
# Important note with color, pinning, and favorites
client.create_note(
    title="Urgent Notice",
    text="# Important Content

Requires urgent confirmation.",
    markdown=True,
    pinned=True,
    favorite=True,
    color="red",
    reminder="2024-01-20T14:00:00",
    tags=["urgent", "notice"]
)

# Markdown-optimized note
client.create_markdown_note(
    title="Project Plan",
    content="# Plan

- [ ] Task 1
- [ ] Task 2",
    notebook="Project",
    color="blue",
    add_timestamp=True
)
```

### Advanced Search
```python
# Search with tag filtering in a specific notebook
client.search_notes(
    query="meeting",
    notebook="Work",
    tags=["important", "in-progress"],
    limit=10
)
```

### Notebook Management
```python
# Create notebook with color
client.create_notebook("Data Analysis", color="purple")

# Create sub-notebook
client.create_notebook("Monthly Report", parent="Data Analysis")

# Open notebook
client.open_notebook("Data Analysis")
```

### Quick Actions
```python
# Add content to existing note
client.quick_note("Add new idea", append=True)

# Open note in edit mode
client.open_note(title="Meeting Notes", edit=True)
```

### File Operations
```python
# Import markdown file
client.import_note("document.md", notebook="Documents", format_type="markdown")

# Export note to PDF
client.export_note(title="Report", format_type="pdf", destination="~/Documents/")
```

## Extended Parameter Support

### Note Properties
- `pinned`: Pin note to keep it visible
- `favorite`: Add note to favorites
- `starred`: Mark note with star
- `priority`: Set priority level (high, medium, low, urgent)
- `category`: Organize notes by category
- `readonly`: Set read-only mode

### Time Management
- `due_date`: Set due date for tasks
- `created_date`: Specify creation date
- `modified_date`: Specify modification date
- `reminder`: Schedule reminder notifications

### Security and Sharing
- `encrypted`: Enable encryption
- `password`: Set note password
- `shared`: Share note with others
- `public`: Make note publicly accessible

### Metadata
- `author`: Author information
- `source`: Source reference
- `url`: Related URL links
- `location`: Location information
- `attachments`: File attachments

### Supported Colors
- `red`: For urgent or important notes
- `blue`: For informational or planning notes
- `green`: For completed or successful items
- `yellow`: For caution or pending items
- `purple`: For creative or idea notes
- `gray`: For archived or reference material
- `orange`: For warnings or alerts
- `pink`: For personal or hobby-related notes

## Reminder Time Formats
- **ISO 8601**: `"2024-01-20T14:00:00"`
- **Natural language**: `"tomorrow 2pm"`, `"next friday"`
- **Relative time**: `"in 1 hour"`, `"in 30 minutes"`

# Specialized Note Creation Methods

### Task Notes
```python
client.create_task_note(
    title="Weekly Work Plan",
    tasks=["Task 1", "Task 2", "Task 3"],
    due_date="2024-01-30",
    priority="high",
    reminder="2024-01-25T09:00:00"
)
```

### Meeting Notes
```python
client.create_meeting_note(
    title="Team Meeting",
    date="2024-01-25 14:00",
    attendees=["Team Lead Kim", "Developer Park", "Designer Lee"],
    agenda=["Project Progress", "Next Sprint Plan"],
    location="Conference Room A"
)
```

### Project Notes
```python
client.create_project_note(
    project_name="Website Redesign",
    description="UI/UX improvement of existing website",
    milestones=["Planning", "Design", "Development", "Testing", "Deployment"],
    team_members=["Planner", "Designer", "Developer"],
    due_date="2024-06-30"
)
```

### Daily Notes
```python
client.create_daily_note(
    mood="üòä Good",
    weather="‚òÄÔ∏è Sunny",
    goals=["Exercise", "Reading", "Project Progress"],
    reflections="Today was a productive day."
)
```

## Advanced Usage Examples

### Encrypted Confidential Note
```python
client.create_note(
    title="üîí Server Information",
    text="Important server access information...",
    encrypted=True,
    password="secure123!",
    color="red",
    shared=False,
    readonly=True
)
```

### Travel Note with Location Information
```python
client.create_note(
    title="‚úàÔ∏è Jeju Island Trip",
    text="Travel plans and schedule...",
    location="Jeju Special Self-Governing Province",
    attachments=["flight_ticket.pdf", "hotel_reservation.pdf"],
    tags=["travel", "Jeju Island"],
    color="green"
)
```

### High Priority Work Note
```python
client.create_note(
    title="üö® Urgent Work",
    text="Work that needs immediate attention...",
    priority="urgent",
    pinned=True,
    favorite=True,
    color="red",
    reminder="2024-01-20T09:00:00",
    due_date="2024-01-20T18:00:00"
)
```

---

# MCP Server Integration ü§ñ

UpNote Python ClientÎäî Ïù¥Ï†ú **MCP (Model Context Protocol) ÏÑúÎ≤Ñ**Î•º Ìè¨Ìï®ÌïòÏó¨ AI Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏(Claude, Cursor Îì±)ÏôÄ ÏßÅÏ†ë ÌÜµÌï©Ìï† Ïàò ÏûàÏäµÎãàÎã§.

## MCP ÏÑúÎ≤Ñ Í∏∞Îä•

### Ï†úÍ≥µÎêòÎäî ÎèÑÍµ¨ (Tools)

1. **Í∏∞Î≥∏ ÎÖ∏Ìä∏ Í¥ÄÎ¶¨**
   - `create_note`: Í∏∞Î≥∏ ÎÖ∏Ìä∏ ÏÉùÏÑ±
   - `create_markdown_note`: ÎßàÌÅ¨Îã§Ïö¥ ÎÖ∏Ìä∏ ÏÉùÏÑ±
   - `search_notes`: ÎÖ∏Ìä∏ Í≤ÄÏÉâ
   - `open_note`: ÎÖ∏Ìä∏ Ïó¥Í∏∞
   - `quick_note`: Îπ†Î•∏ ÎÖ∏Ìä∏ Ï∂îÍ∞Ä

2. **ÌäπÏàò ÎÖ∏Ìä∏ Ïú†Ìòï**
   - `create_task_note`: ÏûëÏóÖ Î™©Î°ù ÎÖ∏Ìä∏
   - `create_meeting_note`: ÌöåÏùò ÎÖ∏Ìä∏
   - `create_project_note`: ÌîÑÎ°úÏ†ùÌä∏ ÎÖ∏Ìä∏
   - `create_daily_note`: ÏùºÏùº ÎÖ∏Ìä∏

3. **ÎÖ∏Ìä∏Î∂Å Í¥ÄÎ¶¨**
   - `create_notebook`: ÎÖ∏Ìä∏Î∂Å ÏÉùÏÑ±
   - `open_notebook`: ÎÖ∏Ìä∏Î∂Å Ïó¥Í∏∞

4. **ÌååÏùº ÏûëÏóÖ**
   - `import_note`: ÎÖ∏Ìä∏ Í∞ÄÏ†∏Ïò§Í∏∞
   - `export_note`: ÎÖ∏Ìä∏ ÎÇ¥Î≥¥ÎÇ¥Í∏∞

5. **Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò Ï†úÏñ¥**
   - `open_upnote`: UpNote Ïï± Ïã§Ìñâ

### MCP ÏÑúÎ≤Ñ ÌäπÏßï

- **ÎìÄÏñº ÌîÑÎ†àÏù¥Î∞ç ÏßÄÏõê**: NDJSONÍ≥º LSP ÌîÑÎ°úÌÜ†ÏΩú ÏûêÎèô Í∞êÏßÄ
- **Stdio ÌÜµÏã†**: ÌëúÏ§Ä ÏûÖÏ∂úÎ†•ÏùÑ ÌÜµÌïú ÏïàÏ†ïÏ†ÅÏù∏ ÌÜµÏã†
- **ÏóêÎü¨ Ï≤òÎ¶¨**: Í≤¨Í≥†Ìïú ÏòàÏô∏ Ï≤òÎ¶¨ Î∞è Ïò§Î•ò ÏùëÎãµ
- **Î°úÍπÖ**: stderrÎ•º ÌÜµÌïú ÏÉÅÏÑ∏Ìïú ÎîîÎ≤ÑÍπÖ Ï†ïÎ≥¥

## MCP ÏÑúÎ≤Ñ ÏÑ§Ï†ï

### 1. Claude DesktopÏóêÏÑú ÏÑ§Ï†ï

`~/.config/claude-desktop/claude_desktop_config.json` ÌååÏùºÏóê Îã§ÏùåÏùÑ Ï∂îÍ∞Ä:

```json
{
  "mcpServers": {
    "upnote": {
      "command": "python",
      "args": ["/path/to/your/upnote_mcp_server.py"],
      "env": {}
    }
  }
}
```

### 2. CursorÏóêÏÑú ÏÑ§Ï†ï

CursorÏùò ÏÑ§Ï†ïÏóêÏÑú MCP ÏÑúÎ≤ÑÎ•º Ï∂îÍ∞Ä:

```json
{
  "mcp.servers": {
    "upnote": {
      "command": "python",
      "args": ["/path/to/your/upnote_mcp_server.py"]
    }
  }
}
```

### 3. ÏßÅÏ†ë Ïã§Ìñâ

ÌÑ∞ÎØ∏ÎÑêÏóêÏÑú ÏßÅÏ†ë MCP ÏÑúÎ≤ÑÎ•º ÌÖåÏä§Ìä∏Ìï† Ïàò ÏûàÏäµÎãàÎã§:

```bash
python upnote_mcp_server.py
```

## MCP ÎîîÎ≤ÑÍπÖ ÎèÑÍµ¨ üîß

### upnote_mcp_debugger.py

MCP ÌÜµÏã† Î¨∏Ï†úÎ•º Ìï¥Í≤∞ÌïòÍ∏∞ ÏúÑÌïú Í≥†Í∏â ÎîîÎ≤ÑÍπÖ ÎûòÌçºÏûÖÎãàÎã§.

#### Í∏∞Îä•

1. **ÌîÑÎ°ùÏãú Î™®Îìú (Í∏∞Î≥∏Í∞í)**
   - Ïã§Ï†ú MCP ÏÑúÎ≤ÑÎ•º ÏÉùÏÑ±ÌïòÍ≥† ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏-ÏÑúÎ≤Ñ Í∞Ñ ÌÜµÏã†ÏùÑ Ï§ëÍ≥Ñ
   - Î∞îÏù¥ÎÑàÎ¶¨ Î†àÎ≤®ÏóêÏÑú Î™®Îì† Îç∞Ïù¥ÌÑ∞Î•º Ï∫°Ï≤ò
   - Î©îÏãúÏßÄÎ•º ÏûêÎèôÏúºÎ°ú ÌååÏã±ÌïòÍ≥† ÏöîÏïΩ
   - LSPÏôÄ NDJSON ÌîÑÎ†àÏù¥Î∞ç Î™®Îëê ÏßÄÏõê

2. **Ìä∏Î¶ΩÏôÄÏù¥Ïñ¥ Î™®Îìú**
   - Ï≤´ Î≤àÏß∏ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Î©îÏãúÏßÄÎßå Ï∫°Ï≤òÌïòÍ≥† Ï¢ÖÎ£å
   - ÌîÑÎ†àÏù¥Î∞ç Í∞êÏßÄ Î∞è Î©îÏãúÏßÄ Íµ¨Ï°∞ Î∂ÑÏÑù
   - Ïó∞Í≤∞ Î¨∏Ï†ú ÏßÑÎã®Ïóê Ïú†Ïö©

#### ÏÇ¨Ïö©Î≤ï

```bash
# ÌîÑÎ°ùÏãú Î™®Îìú (Í∏∞Î≥∏Í∞í)
python upnote_mcp_debugger.py

# Ìä∏Î¶ΩÏôÄÏù¥Ïñ¥ Î™®Îìú
python upnote_mcp_debugger.py --mode tripwire

# Ïª§Ïä§ÌÖÄ ÏÑúÎ≤Ñ Ïä§ÌÅ¨Î¶ΩÌä∏ ÏßÄÏ†ï
python upnote_mcp_debugger.py --server /path/to/custom_server.py
```

#### ÌôòÍ≤Ω Î≥ÄÏàò

```bash
# Î™®Îìú ÏÑ§Ï†ï
export MCP_WRAPPER_MODE=proxy  # ÎòêÎäî tripwire

# ÏÑúÎ≤Ñ Ïä§ÌÅ¨Î¶ΩÌä∏ Í≤ΩÎ°ú
export MCP_WRAPPER_SERVER=/path/to/upnote_mcp_server.py
```

#### Î°úÍ∑∏ ÌååÏùº

ÎîîÎ≤ÑÍ±∞Îäî Îã§Ïùå ÌååÏùºÎì§ÏùÑ ÏÉùÏÑ±Ìï©ÎãàÎã§:

- `logs/mcp_debug_YYYYMMDD.log`: ÏÉÅÏÑ∏Ìïú ÎîîÎ≤ÑÍ∑∏ Î°úÍ∑∏
- `logs/proxy_client_to_server.bin`: ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏‚ÜíÏÑúÎ≤Ñ Î∞îÏù¥ÎÑàÎ¶¨ Îç∞Ïù¥ÌÑ∞
- `logs/proxy_server_to_client.bin`: ÏÑúÎ≤Ñ‚ÜíÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Î∞îÏù¥ÎÑàÎ¶¨ Îç∞Ïù¥ÌÑ∞

## MCP ÏÇ¨Ïö© ÏòàÏ†ú

### Claude DesktopÏóêÏÑú ÏÇ¨Ïö©

Claude DesktopÏóêÏÑú Îã§ÏùåÍ≥º Í∞ôÏù¥ ÏöîÏ≤≠Ìï† Ïàò ÏûàÏäµÎãàÎã§:

```
"ÏÉàÎ°úÏö¥ ÌîÑÎ°úÏ†ùÌä∏ ÎÖ∏Ìä∏Î•º ÎßåÎì§Ïñ¥Ï§ò. Ï†úÎ™©ÏùÄ 'AI Ï±óÎ¥á Í∞úÎ∞ú'Ïù¥Í≥†, ÏÑ§Î™ÖÏùÄ 'GPT Í∏∞Î∞ò Í≥†Í∞ù ÏÑúÎπÑÏä§ Ï±óÎ¥á Í∞úÎ∞ú ÌîÑÎ°úÏ†ùÌä∏'Î°ú Ìï¥Ï§ò. ÎßàÏùºÏä§ÌÜ§ÏùÄ 'ÏöîÍµ¨ÏÇ¨Ìï≠ Î∂ÑÏÑù', 'ÏÑ§Í≥Ñ', 'Í∞úÎ∞ú', 'ÌÖåÏä§Ìä∏', 'Î∞∞Ìè¨'Î°ú ÏÑ§Ï†ïÌïòÍ≥†, ÌåÄÏõêÏùÄ 'ÍπÄÍ∞úÎ∞ú', 'Ïù¥ÎîîÏûêÏù∏', 'Î∞ïÍ∏∞Ìöç'ÏúºÎ°ú Ìï¥Ï§ò."
```

ClaudeÍ∞Ä ÏûêÎèôÏúºÎ°ú `create_project_note` ÎèÑÍµ¨Î•º ÏÇ¨Ïö©ÌïòÏó¨ ÎÖ∏Ìä∏Î•º ÏÉùÏÑ±Ìï©ÎãàÎã§.

### ÌöåÏùò ÎÖ∏Ìä∏ ÏÉùÏÑ±

```
"ÎÇ¥Ïùº Ïò§ÌõÑ 2Ïãú ÌåÄ ÌöåÏùò ÎÖ∏Ìä∏Î•º ÎßåÎì§Ïñ¥Ï§ò. Ï∞∏ÏÑùÏûêÎäî ÌåÄÏû•, Í∞úÎ∞úÏûê 3Î™Ö, ÎîîÏûêÏù¥ÎÑà 1Î™ÖÏù¥Í≥†, ÏïàÍ±¥ÏùÄ 'Ïä§ÌîÑÎ¶∞Ìä∏ Î¶¨Î∑∞'ÏôÄ 'Îã§Ïùå Ïä§ÌîÑÎ¶∞Ìä∏ Í≥ÑÌöç'Ïù¥Ïïº."
```

### ÏùºÏùº ÎÖ∏Ìä∏ ÏÉùÏÑ±

```
"Ïò§ÎäòÏùò ÏùºÏùº ÎÖ∏Ìä∏Î•º ÎßåÎì§Ïñ¥Ï§ò. Í∏∞Î∂ÑÏùÄ Ï¢ãÏùå, ÎÇ†Ïî®Îäî ÎßëÏùåÏúºÎ°ú ÌïòÍ≥†, Î™©ÌëúÎäî 'Ïö¥ÎèôÌïòÍ∏∞', 'ÎèÖÏÑúÌïòÍ∏∞', 'ÌîÑÎ°úÏ†ùÌä∏ ÏßÑÌñâ'ÏúºÎ°ú ÏÑ§Ï†ïÌï¥Ï§ò."
```

### ÎÖ∏Ìä∏ Í≤ÄÏÉâ

```
"'ÌöåÏùò'ÎùºÎäî ÌÇ§ÏõåÎìúÎ°ú ÎÖ∏Ìä∏Î•º Í≤ÄÏÉâÌï¥Ï§ò. 'ÏóÖÎ¨¥' ÌÉúÍ∑∏Í∞Ä ÏûàÎäî Í≤ÉÎßå Ï∞æÏïÑÏ§ò."
```

## Í≥†Í∏â MCP ÏÑ§Ï†ï

### ÎîîÎ≤ÑÍ∑∏ Î™®ÎìúÎ°ú Claude Desktop ÏÑ§Ï†ï

Î¨∏Ï†ú Ìï¥Í≤∞ÏùÑ ÏúÑÌï¥ ÎîîÎ≤ÑÍ±∞Î•º ÌÜµÌï¥ MCP ÏÑúÎ≤ÑÎ•º Ïã§Ìñâ:

```json
{
  "mcpServers": {
    "upnote-debug": {
      "command": "python",
      "args": ["/path/to/upnote_mcp_debugger.py", "--mode", "proxy"],
      "env": {
        "MCP_WRAPPER_SERVER": "/path/to/upnote_mcp_server.py"
      }
    }
  }
}
```

### Ïª§Ïä§ÌÖÄ ÌôòÍ≤Ω Î≥ÄÏàò

```json
{
  "mcpServers": {
    "upnote": {
      "command": "python",
      "args": ["/path/to/upnote_mcp_server.py"],
      "env": {
        "PYTHONPATH": "/path/to/upnote_client",
        "PYTHONUNBUFFERED": "1"
      }
    }
  }
}
```

## Î¨∏Ï†ú Ìï¥Í≤∞

### ÏùºÎ∞òÏ†ÅÏù∏ Î¨∏Ï†ú

1. **UpNote ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏùå**
   ```
   ERROR: UpNote client not available
   ```
   - Ìï¥Í≤∞: `pip install upnote-python-client` Ïã§Ìñâ
   - ÎòêÎäî PYTHONPATHÏóê Î™®Îìà Í≤ΩÎ°ú Ï∂îÍ∞Ä

2. **MCP ÏÑúÎ≤Ñ Ïó∞Í≤∞ Ïã§Ìå®**
   - ÎîîÎ≤ÑÍ∑∏ Î™®ÎìúÎ°ú Ïã§Ìñâ: `python upnote_mcp_debugger.py --mode tripwire`
   - Î°úÍ∑∏ ÌååÏùº ÌôïÏù∏: `logs/mcp_debug_*.log`

3. **Í∂åÌïú Î¨∏Ï†ú**
   - Ïä§ÌÅ¨Î¶ΩÌä∏ Ïã§Ìñâ Í∂åÌïú ÌôïÏù∏: `chmod +x upnote_mcp_server.py`
   - Python Í≤ΩÎ°ú ÌôïÏù∏: `which python`

### ÎîîÎ≤ÑÍπÖ Îã®Í≥Ñ

1. **Í∏∞Î≥∏ Ïó∞Í≤∞ ÌÖåÏä§Ìä∏**
   ```bash
   echo '{"jsonrpc":"2.0","id":1,"method":"ping"}' | python upnote_mcp_server.py
   ```

2. **ÎîîÎ≤ÑÍ∑∏ ÎûòÌçºÎ°ú ÏÉÅÏÑ∏ Î∂ÑÏÑù**
   ```bash
   python upnote_mcp_debugger.py --mode tripwire
   ```

3. **Î°úÍ∑∏ Î∂ÑÏÑù**
   ```bash
   tail -f logs/mcp_debug_*.log
   ```

## MCP ÏïÑÌÇ§ÌÖçÏ≤ò

### Î©îÏãúÏßÄ ÌùêÎ¶Ñ

```
AI Assistant (Claude/Cursor)
        ‚Üï (JSON-RPC 2.0)
MCP Debugger (optional)
        ‚Üï (Binary passthrough)
MCP Server (upnote_mcp_server.py)
        ‚Üï (Python API calls)
UpNote Client (upnote_python_client)
        ‚Üï (URL schemes)
UpNote Application
```

### ÌîÑÎ°úÌÜ†ÏΩú ÏßÄÏõê

- **NDJSON**: Ìïú Ï§ÑÎãπ ÌïòÎÇòÏùò JSON Î©îÏãúÏßÄ
- **LSP**: Content-Length Ìó§ÎçîÎ•º Í∞ÄÏßÑ HTTP Ïä§ÌÉÄÏùº Î©îÏãúÏßÄ
- **ÏûêÎèô Í∞êÏßÄ**: Ï≤´ Î≤àÏß∏ ÏûÖÎ†•ÏúºÎ°ú ÌîÑÎ†àÏù¥Î∞ç Î∞©Ïãù Í≤∞Ï†ï

### ÎèÑÍµ¨ Ïä§ÌÇ§Îßà

Î™®Îì† MCP ÎèÑÍµ¨Îäî JSON SchemaÎ°ú Ï†ïÏùòÎêú ÏûÖÎ†• Îß§Í∞úÎ≥ÄÏàòÎ•º Í∞ÄÏßëÎãàÎã§:

```json
{
  "name": "create_note",
  "description": "Create a new note in UpNote",
  "inputSchema": {
    "type": "object",
    "properties": {
      "title": {"type": "string"},
      "content": {"type": "string"},
      "notebook": {"type": "string"},
      "tags": {"type": "array", "items": {"type": "string"}},
      "pinned": {"type": "boolean"},
      "favorite": {"type": "boolean"}
    },
    "required": ["title", "content"]
  }
}
```

## ÏÑ±Îä• Î∞è Ï†úÌïúÏÇ¨Ìï≠

### ÏÑ±Îä•

- MCP ÏÑúÎ≤ÑÎäî Îã®Ïùº Ïä§Î†àÎìúÎ°ú ÎèôÏûë
- Í∞Å ÎèÑÍµ¨ Ìò∏Ï∂úÏùÄ ÎèÖÎ¶ΩÏ†ÅÏúºÎ°ú Ï≤òÎ¶¨
- URL Ïä§ÌÇ§Îßà Í∏∞Î∞òÏù¥ÎØÄÎ°ú UpNote Ïï±Ïù¥ Ïã§ÌñâÎêòÏñ¥Ïïº Ìï®

### Ï†úÌïúÏÇ¨Ìï≠

- UpNote Ïï±Ïù¥ ÏÑ§ÏπòÎêòÏñ¥ ÏûàÏñ¥Ïïº Ìï®
- macOS, Windows, Linux ÌîåÎû´ÌèºÎ≥Ñ URL Ìï∏Îì§Îü¨ ÌïÑÏöî
- ÎÑ§Ìä∏ÏõåÌÅ¨ Ïó∞Í≤∞ ÏóÜÏù¥ Î°úÏª¨ÏóêÏÑúÎßå ÎèôÏûë

### Í∂åÏû•ÏÇ¨Ìï≠

- ÎåÄÎüâÏùò ÎÖ∏Ìä∏ ÏÉùÏÑ± Ïãú Î∞∞Ïπò Ï≤òÎ¶¨ Í≥†Î†§
- ÎîîÎ≤ÑÍ∑∏ Î™®ÎìúÎäî Í∞úÎ∞ú/ÌÖåÏä§Ìä∏ ÏãúÏóêÎßå ÏÇ¨Ïö©
- ÌîÑÎ°úÎçïÏÖò ÌôòÍ≤ΩÏóêÏÑúÎäî Î°úÍ∑∏ Î†àÎ≤® Ï°∞Ï†ï Í≥†Î†§
```